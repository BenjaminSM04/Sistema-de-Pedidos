@page "/FormVentas"

<PageTitle>Formulario de representante de ventas</PageTitle>

<h1>Vendedor</h1>

<EditForm Model="@oVentasEmpleado" OnValidSubmit="@guardar">
    <DataAnnotationsValidator />
    <div class="mt-3">
        <label>Numero de Empleado</label>
        <InputNumber class="form-control" @bind-Value="oVentasEmpleado.IdEmpleado" />
        <ValidationMessage For="(() => oVentasEmpleado.IdEmpleado)" />
    </div>
    <div class="mt-3">
        <label>Nombre del Empleado</label>
        <InputText class="form-control" @bind-Value="oVentasEmpleado.Nombre " />
        <ValidationMessage For="(() => oVentasEmpleado.Nombre)" />
    </div>
    <div class="mt-3">
        <label>Edad</label>
        <InputNumber class="form-control" @bind-Value="oVentasEmpleado.Edad" />
        <ValidationMessage For="(() => oVentasEmpleado.Edad)" />
    </div>
    <div class="mt-3">
        <label>Cargo</label>
        <InputText class="form-control" @bind-Value="oVentasEmpleado.Cargo" />
        <ValidationMessage For="(() => oVentasEmpleado.Cargo)" />
    </div>
    <div class="mt-3">
        <label>Fecha</label>
        <InputDate class="form-control"
                   @bind-Value="oVentasEmpleado.FechaContrato"
                   min="2000-01-01"
                   max="@FechaMaxima"/>
        <ValidationMessage For="(() => oVentasEmpleado.FechaContrato)" />
    </div>
    <div class="mt-3">
        <label>Cuota</label>
        <InputNumber class="form-control" @bind-Value="oVentasEmpleado.Cuota" />
        <ValidationMessage For="(() => oVentasEmpleado.Cuota)" />
    </div>
    <div class="mt-3">
        <label>Ventas</label>
        <InputNumber class="form-control" @bind-Value="oVentasEmpleado.Ventas" />
        <ValidationMessage For="(() => oVentasEmpleado.Ventas)" />
    </div>
    <div class="mt-3">
        <button type="submit" class="btn btn-success">Guardar</button>
        <button class="btn btn-danger">Regresar</button>
    </div>
</EditForm>

@code {
    public oVentas oVentasEmpleado { get; set; } = new oVentas();

    protected override void OnInitialized()
    {
        if (oVentasEmpleado.FechaContrato == default)
        {
            oVentasEmpleado.FechaContrato = DateTime.Today;
        }
    }

    private void guardar()
    {
        Console.WriteLine("Guardado");
    }
    private string FechaMaxima => DateTime.Today.ToString("yyyy-MM-dd");
}
